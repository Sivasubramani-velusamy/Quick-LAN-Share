{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useEffect, useRef, useState } from 'react';\nconst useWebSocket = url => {\n  _s();\n  const ws = useRef(null);\n  const [messages, setMessages] = useState([]);\n  const [connected, setConnected] = useState(false);\n  useEffect(() => {\n    ws.current = new WebSocket(url);\n    ws.current.onopen = () => {\n      setConnected(true);\n      console.log('WebSocket connected');\n    };\n    ws.current.onmessage = event => {\n      const message = event.data;\n      setMessages(prev => [...prev, message]);\n      console.log('WebSocket message received:', message);\n    };\n    ws.current.onclose = () => {\n      setConnected(false);\n      console.log('WebSocket disconnected');\n    };\n    ws.current.onerror = error => {\n      console.error('WebSocket error:', error);\n    };\n    return () => {\n      ws.current.close();\n    };\n  }, [url]);\n  const sendMessage = msg => {\n    if (ws.current && ws.current.readyState === WebSocket.OPEN) {\n      ws.current.send(msg);\n    } else {\n      console.error('WebSocket is not open. Ready state:', ws.current.readyState);\n    }\n  };\n  return {\n    connected,\n    messages,\n    sendMessage\n  };\n};\n_s(useWebSocket, \"l3klV2oBocgFmrjVlyShqBjOBFk=\");\nexport default useWebSocket;","map":{"version":3,"names":["useEffect","useRef","useState","useWebSocket","url","_s","ws","messages","setMessages","connected","setConnected","current","WebSocket","onopen","console","log","onmessage","event","message","data","prev","onclose","onerror","error","close","sendMessage","msg","readyState","OPEN","send"],"sources":["C:/Users/sivas/My Project/QuickLAN/frontend/src/hooks/useWebSocket.js"],"sourcesContent":["import { useEffect, useRef, useState } from 'react';\r\n\r\nconst useWebSocket = (url) => {\r\n  const ws = useRef(null);\r\n  const [messages, setMessages] = useState([]);\r\n  const [connected, setConnected] = useState(false);\r\n\r\n  useEffect(() => {\r\n    ws.current = new WebSocket(url);\r\n\r\n    ws.current.onopen = () => {\r\n      setConnected(true);\r\n      console.log('WebSocket connected');\r\n    };\r\n\r\n    ws.current.onmessage = (event) => {\r\n      const message = event.data;\r\n      setMessages((prev) => [...prev, message]);\r\n      console.log('WebSocket message received:', message);\r\n    };\r\n\r\n    ws.current.onclose = () => {\r\n      setConnected(false);\r\n      console.log('WebSocket disconnected');\r\n    };\r\n\r\n    ws.current.onerror = (error) => {\r\n      console.error('WebSocket error:', error);\r\n    };\r\n\r\n    return () => {\r\n      ws.current.close();\r\n    };\r\n  }, [url]);\r\n\r\n  const sendMessage = (msg) => {\r\n    if (ws.current && ws.current.readyState === WebSocket.OPEN) {\r\n      ws.current.send(msg);\r\n    } else {\r\n      console.error('WebSocket is not open. Ready state:', ws.current.readyState);\r\n    }\r\n  };\r\n\r\n  return { connected, messages, sendMessage };\r\n};\r\n\r\nexport default useWebSocket;\r\n"],"mappings":";AAAA,SAASA,SAAS,EAAEC,MAAM,EAAEC,QAAQ,QAAQ,OAAO;AAEnD,MAAMC,YAAY,GAAIC,GAAG,IAAK;EAAAC,EAAA;EAC5B,MAAMC,EAAE,GAAGL,MAAM,CAAC,IAAI,CAAC;EACvB,MAAM,CAACM,QAAQ,EAAEC,WAAW,CAAC,GAAGN,QAAQ,CAAC,EAAE,CAAC;EAC5C,MAAM,CAACO,SAAS,EAAEC,YAAY,CAAC,GAAGR,QAAQ,CAAC,KAAK,CAAC;EAEjDF,SAAS,CAAC,MAAM;IACdM,EAAE,CAACK,OAAO,GAAG,IAAIC,SAAS,CAACR,GAAG,CAAC;IAE/BE,EAAE,CAACK,OAAO,CAACE,MAAM,GAAG,MAAM;MACxBH,YAAY,CAAC,IAAI,CAAC;MAClBI,OAAO,CAACC,GAAG,CAAC,qBAAqB,CAAC;IACpC,CAAC;IAEDT,EAAE,CAACK,OAAO,CAACK,SAAS,GAAIC,KAAK,IAAK;MAChC,MAAMC,OAAO,GAAGD,KAAK,CAACE,IAAI;MAC1BX,WAAW,CAAEY,IAAI,IAAK,CAAC,GAAGA,IAAI,EAAEF,OAAO,CAAC,CAAC;MACzCJ,OAAO,CAACC,GAAG,CAAC,6BAA6B,EAAEG,OAAO,CAAC;IACrD,CAAC;IAEDZ,EAAE,CAACK,OAAO,CAACU,OAAO,GAAG,MAAM;MACzBX,YAAY,CAAC,KAAK,CAAC;MACnBI,OAAO,CAACC,GAAG,CAAC,wBAAwB,CAAC;IACvC,CAAC;IAEDT,EAAE,CAACK,OAAO,CAACW,OAAO,GAAIC,KAAK,IAAK;MAC9BT,OAAO,CAACS,KAAK,CAAC,kBAAkB,EAAEA,KAAK,CAAC;IAC1C,CAAC;IAED,OAAO,MAAM;MACXjB,EAAE,CAACK,OAAO,CAACa,KAAK,CAAC,CAAC;IACpB,CAAC;EACH,CAAC,EAAE,CAACpB,GAAG,CAAC,CAAC;EAET,MAAMqB,WAAW,GAAIC,GAAG,IAAK;IAC3B,IAAIpB,EAAE,CAACK,OAAO,IAAIL,EAAE,CAACK,OAAO,CAACgB,UAAU,KAAKf,SAAS,CAACgB,IAAI,EAAE;MAC1DtB,EAAE,CAACK,OAAO,CAACkB,IAAI,CAACH,GAAG,CAAC;IACtB,CAAC,MAAM;MACLZ,OAAO,CAACS,KAAK,CAAC,qCAAqC,EAAEjB,EAAE,CAACK,OAAO,CAACgB,UAAU,CAAC;IAC7E;EACF,CAAC;EAED,OAAO;IAAElB,SAAS;IAAEF,QAAQ;IAAEkB;EAAY,CAAC;AAC7C,CAAC;AAACpB,EAAA,CA1CIF,YAAY;AA4ClB,eAAeA,YAAY","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}