{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\sivas\\\\My Project\\\\QuickLAN\\\\frontend\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport axios from 'axios';\nimport { Button, TextField, Typography, Box, LinearProgress, List, ListItem, ListItemText } from '@mui/material';\nimport SockJS from 'sockjs-client';\nimport Stomp from 'stompjs';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  const [files, setFiles] = useState([]);\n  const [selectedFile, setSelectedFile] = useState(null);\n  const [receiverIp, setReceiverIp] = useState('');\n  const [receiverPort, setReceiverPort] = useState(9090);\n  const [progressMessages, setProgressMessages] = useState([]);\n  const stompClient = useRef(null);\n  useEffect(() => {\n    fetchFiles();\n    connectWebSocket();\n    return () => {\n      if (stompClient.current) {\n        stompClient.current.disconnect();\n      }\n    };\n  }, []);\n  const fetchFiles = async () => {\n    try {\n      const response = await axios.get('http://localhost:9092/api/files');\n      setFiles(response.data);\n    } catch (error) {\n      console.error('Error fetching files:', error);\n    }\n  };\n  const connectWebSocket = () => {\n    const socket = new SockJS('http://localhost:9092/ws/progress');\n    stompClient.current = Stomp.over(socket);\n    stompClient.current.connect({}, () => {\n      stompClient.current.subscribe('/topic/progress', message => {\n        setProgressMessages(prev => [...prev, message.body]);\n      });\n    });\n  };\n  const handleFileChange = event => {\n    setSelectedFile(event.target.files[0]);\n  };\n  const handleSendFile = async () => {\n    if (!selectedFile || !receiverIp || !receiverPort) {\n      alert('Please select a file and enter receiver IP and port.');\n      return;\n    }\n    try {\n      const formData = new FormData();\n      formData.append('file', selectedFile);\n\n      // Upload file to backend\n      await axios.post('http://localhost:9092/api/files/upload', formData, {\n        headers: {\n          'Content-Type': 'multipart/form-data'\n        }\n      });\n\n      // Send file via TCP\n      await axios.post('http://localhost:9092/api/send', null, {\n        params: {\n          receiverIp,\n          receiverPort,\n          filePath: `received_files/${selectedFile.name}`\n        }\n      });\n      alert('File sent successfully!');\n      fetchFiles();\n    } catch (error) {\n      console.error('Error sending file:', error);\n      alert('Failed to send file.');\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(Box, {\n    sx: {\n      maxWidth: 600,\n      margin: 'auto',\n      padding: 2\n    },\n    children: [/*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"h4\",\n      gutterBottom: true,\n      children: \"QuickLAN File Sender\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        marginBottom: 2\n      },\n      children: /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"file\",\n        onChange: handleFileChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(TextField, {\n      label: \"Receiver IP\",\n      value: receiverIp,\n      onChange: e => setReceiverIp(e.target.value),\n      fullWidth: true,\n      sx: {\n        marginBottom: 2\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(TextField, {\n      label: \"Receiver Port\",\n      type: \"number\",\n      value: receiverPort,\n      onChange: e => setReceiverPort(Number(e.target.value)),\n      fullWidth: true,\n      sx: {\n        marginBottom: 2\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Button, {\n      variant: \"contained\",\n      onClick: handleSendFile,\n      disabled: !selectedFile || !receiverIp || !receiverPort,\n      children: \"Send File\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"h6\",\n      sx: {\n        marginTop: 4\n      },\n      children: \"Available Files\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(List, {\n      children: files.map(file => /*#__PURE__*/_jsxDEV(ListItem, {\n        children: /*#__PURE__*/_jsxDEV(ListItemText, {\n          primary: file.name,\n          secondary: `${file.size} bytes`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 13\n        }, this)\n      }, file.name, false, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"h6\",\n      sx: {\n        marginTop: 4\n      },\n      children: \"Progress Updates\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        maxHeight: 200,\n        overflowY: 'auto',\n        backgroundColor: '#f5f5f5',\n        padding: 1\n      },\n      children: progressMessages.map((msg, index) => /*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"body2\",\n        children: msg\n      }, index, false, {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 81,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"8cLhxKnYBFXahcMVVLeNX5/UxsQ=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","useRef","axios","Button","TextField","Typography","Box","LinearProgress","List","ListItem","ListItemText","SockJS","Stomp","jsxDEV","_jsxDEV","App","_s","files","setFiles","selectedFile","setSelectedFile","receiverIp","setReceiverIp","receiverPort","setReceiverPort","progressMessages","setProgressMessages","stompClient","fetchFiles","connectWebSocket","current","disconnect","response","get","data","error","console","socket","over","connect","subscribe","message","prev","body","handleFileChange","event","target","handleSendFile","alert","formData","FormData","append","post","headers","params","filePath","name","sx","maxWidth","margin","padding","children","variant","gutterBottom","fileName","_jsxFileName","lineNumber","columnNumber","marginBottom","type","onChange","label","value","e","fullWidth","Number","onClick","disabled","marginTop","map","file","primary","secondary","size","maxHeight","overflowY","backgroundColor","msg","index","_c","$RefreshReg$"],"sources":["C:/Users/sivas/My Project/QuickLAN/frontend/src/App.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\r\nimport axios from 'axios';\r\nimport { Button, TextField, Typography, Box, LinearProgress, List, ListItem, ListItemText } from '@mui/material';\r\nimport SockJS from 'sockjs-client';\r\nimport Stomp from 'stompjs';\r\n\r\nfunction App() {\r\n  const [files, setFiles] = useState([]);\r\n  const [selectedFile, setSelectedFile] = useState(null);\r\n  const [receiverIp, setReceiverIp] = useState('');\r\n  const [receiverPort, setReceiverPort] = useState(9090);\r\n  const [progressMessages, setProgressMessages] = useState([]);\r\n  const stompClient = useRef(null);\r\n\r\n  useEffect(() => {\r\n    fetchFiles();\r\n    connectWebSocket();\r\n    return () => {\r\n      if (stompClient.current) {\r\n        stompClient.current.disconnect();\r\n      }\r\n    };\r\n  }, []);\r\n\r\n  const fetchFiles = async () => {\r\n    try {\r\n      const response = await axios.get('http://localhost:9092/api/files');\r\n      setFiles(response.data);\r\n    } catch (error) {\r\n      console.error('Error fetching files:', error);\r\n    }\r\n  };\r\n\r\n  const connectWebSocket = () => {\r\n    const socket = new SockJS('http://localhost:9092/ws/progress');\r\n    stompClient.current = Stomp.over(socket);\r\n    stompClient.current.connect({}, () => {\r\n      stompClient.current.subscribe('/topic/progress', (message) => {\r\n        setProgressMessages((prev) => [...prev, message.body]);\r\n      });\r\n    });\r\n  };\r\n\r\n  const handleFileChange = (event) => {\r\n    setSelectedFile(event.target.files[0]);\r\n  };\r\n\r\n  const handleSendFile = async () => {\r\n    if (!selectedFile || !receiverIp || !receiverPort) {\r\n      alert('Please select a file and enter receiver IP and port.');\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const formData = new FormData();\r\n      formData.append('file', selectedFile);\r\n\r\n      // Upload file to backend\r\n      await axios.post('http://localhost:9092/api/files/upload', formData, {\r\n        headers: { 'Content-Type': 'multipart/form-data' },\r\n      });\r\n\r\n      // Send file via TCP\r\n      await axios.post('http://localhost:9092/api/send', null, {\r\n        params: {\r\n          receiverIp,\r\n          receiverPort,\r\n          filePath: `received_files/${selectedFile.name}`,\r\n        },\r\n      });\r\n\r\n      alert('File sent successfully!');\r\n      fetchFiles();\r\n    } catch (error) {\r\n      console.error('Error sending file:', error);\r\n      alert('Failed to send file.');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Box sx={{ maxWidth: 600, margin: 'auto', padding: 2 }}>\r\n      <Typography variant=\"h4\" gutterBottom>QuickLAN File Sender</Typography>\r\n\r\n      <Box sx={{ marginBottom: 2 }}>\r\n        <input type=\"file\" onChange={handleFileChange} />\r\n      </Box>\r\n\r\n      <TextField\r\n        label=\"Receiver IP\"\r\n        value={receiverIp}\r\n        onChange={(e) => setReceiverIp(e.target.value)}\r\n        fullWidth\r\n        sx={{ marginBottom: 2 }}\r\n      />\r\n\r\n      <TextField\r\n        label=\"Receiver Port\"\r\n        type=\"number\"\r\n        value={receiverPort}\r\n        onChange={(e) => setReceiverPort(Number(e.target.value))}\r\n        fullWidth\r\n        sx={{ marginBottom: 2 }}\r\n      />\r\n\r\n      <Button variant=\"contained\" onClick={handleSendFile} disabled={!selectedFile || !receiverIp || !receiverPort}>\r\n        Send File\r\n      </Button>\r\n\r\n      <Typography variant=\"h6\" sx={{ marginTop: 4 }}>Available Files</Typography>\r\n      <List>\r\n        {files.map((file) => (\r\n          <ListItem key={file.name}>\r\n            <ListItemText primary={file.name} secondary={`${file.size} bytes`} />\r\n          </ListItem>\r\n        ))}\r\n      </List>\r\n\r\n      <Typography variant=\"h6\" sx={{ marginTop: 4 }}>Progress Updates</Typography>\r\n      <Box sx={{ maxHeight: 200, overflowY: 'auto', backgroundColor: '#f5f5f5', padding: 1 }}>\r\n        {progressMessages.map((msg, index) => (\r\n          <Typography key={index} variant=\"body2\">{msg}</Typography>\r\n        ))}\r\n      </Box>\r\n    </Box>\r\n  );\r\n}\r\n\r\nexport default App;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}