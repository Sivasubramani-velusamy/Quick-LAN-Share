{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Box,Typography,Paper,TextField,Button,List,ListItem,ListItemText}from'@mui/material';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const HomePage=_ref=>{let{onConnect}=_ref;const[ip,setIp]=useState('');const[port,setPort]=useState(9090);const[recentDevices,setRecentDevices]=useState([]);useEffect(()=>{const storedDevices=localStorage.getItem('recentDevices');if(storedDevices){setRecentDevices(JSON.parse(storedDevices));}},[]);const handleConnect=()=>{if(ip&&port){onConnect(ip,port);const updatedDevices=[{ip,port},...recentDevices.filter(d=>d.ip!==ip||d.port!==port)];setRecentDevices(updatedDevices);localStorage.setItem('recentDevices',JSON.stringify(updatedDevices));}};return/*#__PURE__*/_jsxs(Paper,{sx:{p:3,maxWidth:400,margin:'auto',mt:6},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h5\",gutterBottom:true,children:\"Connect to Receiver\"}),/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',flexDirection:'column',gap:2},children:[/*#__PURE__*/_jsx(TextField,{label:\"Receiver IP\",value:ip,onChange:e=>setIp(e.target.value),fullWidth:true}),/*#__PURE__*/_jsx(TextField,{label:\"Receiver Port\",type:\"number\",value:port,onChange:e=>setPort(Number(e.target.value)),fullWidth:true}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",onClick:handleConnect,disabled:!ip||!port,children:\"Connect\"})]}),recentDevices.length>0&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Typography,{variant:\"subtitle1\",sx:{mt:3},children:\"Recent Devices\"}),/*#__PURE__*/_jsx(List,{children:recentDevices.map((_ref2,index)=>{let{ip,port}=_ref2;return/*#__PURE__*/_jsx(ListItem,{button:true,onClick:()=>onConnect(ip,port),children:/*#__PURE__*/_jsx(ListItemText,{primary:\"\".concat(ip,\":\").concat(port)})},index);})})]})]});};export default HomePage;","map":{"version":3,"names":["React","useState","useEffect","Box","Typography","Paper","TextField","Button","List","ListItem","ListItemText","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","HomePage","_ref","onConnect","ip","setIp","port","setPort","recentDevices","setRecentDevices","storedDevices","localStorage","getItem","JSON","parse","handleConnect","updatedDevices","filter","d","setItem","stringify","sx","p","maxWidth","margin","mt","children","variant","gutterBottom","display","flexDirection","gap","label","value","onChange","e","target","fullWidth","type","Number","onClick","disabled","length","map","_ref2","index","button","primary","concat"],"sources":["C:/Users/sivas/My Project/QuickLAN/frontend/src/pages/HomePage.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport {\r\n  Box,\r\n  Typography,\r\n  Paper,\r\n  TextField,\r\n  Button,\r\n  List,\r\n  ListItem,\r\n  ListItemText,\r\n} from '@mui/material';\r\n\r\nconst HomePage = ({ onConnect }) => {\r\n  const [ip, setIp] = useState('');\r\n  const [port, setPort] = useState(9090);\r\n  const [recentDevices, setRecentDevices] = useState([]);\r\n\r\n  useEffect(() => {\r\n    const storedDevices = localStorage.getItem('recentDevices');\r\n    if (storedDevices) {\r\n      setRecentDevices(JSON.parse(storedDevices));\r\n    }\r\n  }, []);\r\n\r\n  const handleConnect = () => {\r\n    if (ip && port) {\r\n      onConnect(ip, port);\r\n      const updatedDevices = [ { ip, port }, ...recentDevices.filter(d => d.ip !== ip || d.port !== port) ];\r\n      setRecentDevices(updatedDevices);\r\n      localStorage.setItem('recentDevices', JSON.stringify(updatedDevices));\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Paper sx={{ p: 3, maxWidth: 400, margin: 'auto', mt: 6 }}>\r\n      <Typography variant=\"h5\" gutterBottom>\r\n        Connect to Receiver\r\n      </Typography>\r\n      <Box sx={{ display: 'flex', flexDirection: 'column', gap: 2 }}>\r\n        <TextField\r\n          label=\"Receiver IP\"\r\n          value={ip}\r\n          onChange={(e) => setIp(e.target.value)}\r\n          fullWidth\r\n        />\r\n        <TextField\r\n          label=\"Receiver Port\"\r\n          type=\"number\"\r\n          value={port}\r\n          onChange={(e) => setPort(Number(e.target.value))}\r\n          fullWidth\r\n        />\r\n        <Button variant=\"contained\" onClick={handleConnect} disabled={!ip || !port}>\r\n          Connect\r\n        </Button>\r\n      </Box>\r\n\r\n      {recentDevices.length > 0 && (\r\n        <>\r\n          <Typography variant=\"subtitle1\" sx={{ mt: 3 }}>\r\n            Recent Devices\r\n          </Typography>\r\n          <List>\r\n            {recentDevices.map(({ ip, port }, index) => (\r\n              <ListItem button key={index} onClick={() => onConnect(ip, port)}>\r\n                <ListItemText primary={`${ip}:${port}`} />\r\n              </ListItem>\r\n            ))}\r\n          </List>\r\n        </>\r\n      )}\r\n    </Paper>\r\n  );\r\n};\r\n\r\nexport default HomePage;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}