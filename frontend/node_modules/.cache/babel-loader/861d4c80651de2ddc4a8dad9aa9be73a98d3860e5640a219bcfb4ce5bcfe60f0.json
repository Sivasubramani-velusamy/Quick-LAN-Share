{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Box,Typography,Paper,List,ListItem,ListItemText}from'@mui/material';import ConnectionForm from'../components/ConnectionForm';import{jsx as _jsx,Fragment as _Fragment,jsxs as _jsxs}from\"react/jsx-runtime\";const HomePage=_ref=>{let{onConnect}=_ref;const[recentDevices,setRecentDevices]=useState([]);useEffect(()=>{const storedDevices=localStorage.getItem('recentDevices');if(storedDevices){setRecentDevices(JSON.parse(storedDevices));}},[]);const handleConnect=(ip,port)=>{onConnect(ip,port);const updatedDevices=[{ip,port},...recentDevices.filter(d=>d.ip!==ip||d.port!==port)];setRecentDevices(updatedDevices);localStorage.setItem('recentDevices',JSON.stringify(updatedDevices));};return/*#__PURE__*/_jsxs(Paper,{sx:{p:3,maxWidth:400,margin:'auto',mt:6},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h5\",gutterBottom:true,children:\"Connect to Receiver\"}),/*#__PURE__*/_jsx(ConnectionForm,{onConnect:handleConnect}),recentDevices.length>0&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Typography,{variant:\"subtitle1\",sx:{mt:3},children:\"Recent Devices\"}),/*#__PURE__*/_jsx(List,{children:recentDevices.map((_ref2,index)=>{let{ip,port}=_ref2;return/*#__PURE__*/_jsx(ListItem,{button:true,onClick:()=>onConnect(ip,port),children:/*#__PURE__*/_jsx(ListItemText,{primary:\"\".concat(ip,\":\").concat(port)})},index);})})]})]});};export default HomePage;","map":{"version":3,"names":["React","useState","useEffect","Box","Typography","Paper","List","ListItem","ListItemText","ConnectionForm","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","HomePage","_ref","onConnect","recentDevices","setRecentDevices","storedDevices","localStorage","getItem","JSON","parse","handleConnect","ip","port","updatedDevices","filter","d","setItem","stringify","sx","p","maxWidth","margin","mt","children","variant","gutterBottom","length","map","_ref2","index","button","onClick","primary","concat"],"sources":["C:/Users/sivas/My Project/QuickLAN/frontend/src/pages/HomePage.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport {\r\n  Box,\r\n  Typography,\r\n  Paper,\r\n  List,\r\n  ListItem,\r\n  ListItemText,\r\n} from '@mui/material';\r\nimport ConnectionForm from '../components/ConnectionForm';\r\n\r\nconst HomePage = ({ onConnect }) => {\r\n  const [recentDevices, setRecentDevices] = useState([]);\r\n\r\n  useEffect(() => {\r\n    const storedDevices = localStorage.getItem('recentDevices');\r\n    if (storedDevices) {\r\n      setRecentDevices(JSON.parse(storedDevices));\r\n    }\r\n  }, []);\r\n\r\n  const handleConnect = (ip, port) => {\r\n    onConnect(ip, port);\r\n    const updatedDevices = [{ ip, port }, ...recentDevices.filter(d => d.ip !== ip || d.port !== port)];\r\n    setRecentDevices(updatedDevices);\r\n    localStorage.setItem('recentDevices', JSON.stringify(updatedDevices));\r\n  };\r\n\r\n  return (\r\n    <Paper sx={{ p: 3, maxWidth: 400, margin: 'auto', mt: 6 }}>\r\n      <Typography variant=\"h5\" gutterBottom>\r\n        Connect to Receiver\r\n      </Typography>\r\n\r\n      <ConnectionForm onConnect={handleConnect} />\r\n\r\n      {recentDevices.length > 0 && (\r\n        <>\r\n          <Typography variant=\"subtitle1\" sx={{ mt: 3 }}>\r\n            Recent Devices\r\n          </Typography>\r\n          <List>\r\n            {recentDevices.map(({ ip, port }, index) => (\r\n              <ListItem button key={index} onClick={() => onConnect(ip, port)}>\r\n                <ListItemText primary={`${ip}:${port}`} />\r\n              </ListItem>\r\n            ))}\r\n          </List>\r\n        </>\r\n      )}\r\n    </Paper>\r\n  );\r\n};\r\n\r\nexport default HomePage;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,OACEC,GAAG,CACHC,UAAU,CACVC,KAAK,CACLC,IAAI,CACJC,QAAQ,CACRC,YAAY,KACP,eAAe,CACtB,MAAO,CAAAC,cAAc,KAAM,8BAA8B,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,QAAA,IAAAC,SAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE1D,KAAM,CAAAC,QAAQ,CAAGC,IAAA,EAAmB,IAAlB,CAAEC,SAAU,CAAC,CAAAD,IAAA,CAC7B,KAAM,CAACE,aAAa,CAAEC,gBAAgB,CAAC,CAAGnB,QAAQ,CAAC,EAAE,CAAC,CAEtDC,SAAS,CAAC,IAAM,CACd,KAAM,CAAAmB,aAAa,CAAGC,YAAY,CAACC,OAAO,CAAC,eAAe,CAAC,CAC3D,GAAIF,aAAa,CAAE,CACjBD,gBAAgB,CAACI,IAAI,CAACC,KAAK,CAACJ,aAAa,CAAC,CAAC,CAC7C,CACF,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAK,aAAa,CAAGA,CAACC,EAAE,CAAEC,IAAI,GAAK,CAClCV,SAAS,CAACS,EAAE,CAAEC,IAAI,CAAC,CACnB,KAAM,CAAAC,cAAc,CAAG,CAAC,CAAEF,EAAE,CAAEC,IAAK,CAAC,CAAE,GAAGT,aAAa,CAACW,MAAM,CAACC,CAAC,EAAIA,CAAC,CAACJ,EAAE,GAAKA,EAAE,EAAII,CAAC,CAACH,IAAI,GAAKA,IAAI,CAAC,CAAC,CACnGR,gBAAgB,CAACS,cAAc,CAAC,CAChCP,YAAY,CAACU,OAAO,CAAC,eAAe,CAAER,IAAI,CAACS,SAAS,CAACJ,cAAc,CAAC,CAAC,CACvE,CAAC,CAED,mBACEd,KAAA,CAACV,KAAK,EAAC6B,EAAE,CAAE,CAAEC,CAAC,CAAE,CAAC,CAAEC,QAAQ,CAAE,GAAG,CAAEC,MAAM,CAAE,MAAM,CAAEC,EAAE,CAAE,CAAE,CAAE,CAAAC,QAAA,eACxD5B,IAAA,CAACP,UAAU,EAACoC,OAAO,CAAC,IAAI,CAACC,YAAY,MAAAF,QAAA,CAAC,qBAEtC,CAAY,CAAC,cAEb5B,IAAA,CAACF,cAAc,EAACS,SAAS,CAAEQ,aAAc,CAAE,CAAC,CAE3CP,aAAa,CAACuB,MAAM,CAAG,CAAC,eACvB3B,KAAA,CAAAF,SAAA,EAAA0B,QAAA,eACE5B,IAAA,CAACP,UAAU,EAACoC,OAAO,CAAC,WAAW,CAACN,EAAE,CAAE,CAAEI,EAAE,CAAE,CAAE,CAAE,CAAAC,QAAA,CAAC,gBAE/C,CAAY,CAAC,cACb5B,IAAA,CAACL,IAAI,EAAAiC,QAAA,CACFpB,aAAa,CAACwB,GAAG,CAAC,CAAAC,KAAA,CAAeC,KAAK,OAAnB,CAAElB,EAAE,CAAEC,IAAK,CAAC,CAAAgB,KAAA,oBAC9BjC,IAAA,CAACJ,QAAQ,EAACuC,MAAM,MAAaC,OAAO,CAAEA,CAAA,GAAM7B,SAAS,CAACS,EAAE,CAAEC,IAAI,CAAE,CAAAW,QAAA,cAC9D5B,IAAA,CAACH,YAAY,EAACwC,OAAO,IAAAC,MAAA,CAAKtB,EAAE,MAAAsB,MAAA,CAAIrB,IAAI,CAAG,CAAE,CAAC,EADtBiB,KAEZ,CAAC,EACZ,CAAC,CACE,CAAC,EACP,CACH,EACI,CAAC,CAEZ,CAAC,CAED,cAAe,CAAA7B,QAAQ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}